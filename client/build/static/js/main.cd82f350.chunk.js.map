{"version":3,"sources":["../external \"electron\"","assets/episen_logo.png","App.js","index.js"],"names":["module","exports","require","useStyles","makeStyles","theme","root","flexGrow","paper","height","width","margin","marginTop","App","classes","useState","connected","setconnected","loading","setloading","status","setStatus","user","pass","save","form","setForm","auth","setAuth","open","setOpen","backgroundColor","containerStyle","setContainerStyle","primeChecking","ipcRenderer","invoke","then","data","res","console","log","undefined","authFile","handleLoader","useEffect","handleForm","e","preventDefault","setTimeout","handleDisconnect","a","StrictMode","Container","style","Grid","container","className","spacing","direction","alignItems","justify","minHeight","item","xs","Modal","aria-labelledby","aria-describedby","display","justifyContent","onClose","closeAfterTransition","BackdropProps","timeout","Fade","in","Paper","id","error","src","logo","maxWidth","marginBottom","alt","CssBaseline","Fab","color","aria-label","onClick","CircularProgress","onSubmit","autoComplete","FormGroup","FormControl","fullWidth","variant","InputLabel","htmlFor","OutlinedInput","startAdornment","InputAdornment","position","labelWidth","onChange","prev","target","value","disabled","type","FormControlLabel","control","Switch","checked","label","Button","borderRadius","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cd82f350.chunk.js","sourcesContent":["module.exports = require(\"electron\");","export default __webpack_public_path__ + \"static/media/episen_logo.4f9feb6a.png\";","import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container'\nimport { CssBaseline, Grid, Typography, FormGroup, FormControlLabel, Switch, Fab } from '@material-ui/core';\nimport Modal from '@material-ui/core/Modal';\nimport logo from './assets/episen_logo.png';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport FormControl from '@material-ui/core/FormControl';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Fade from '@material-ui/core/Fade';\nimport SettingsEthernetIcon from '@material-ui/icons/SettingsEthernet';\nimport PortableWifiOffIcon from '@material-ui/icons/PortableWifiOff';\n\n\nimport VpnKeyIcon from '@material-ui/icons/VpnKey';\nimport LockIcon from '@material-ui/icons/Lock';\n\nimport Paper from '@material-ui/core/Paper';\n\nimport { ipcRenderer } from 'electron';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  paper: {\n    height: 'auto',\n    width: 450,\n  },\n  margin: {\n    marginTop: 10,\n  },\n}));\n\nfunction App() {\n  const classes = useStyles();\n\n  const [connected, setconnected] = useState(false);\n  const [loading, setloading] = useState(true);\n  const [status, setStatus] = useState({});\n  const [form, setForm] = useState({user: '', pass: '', save: false});\n  const [auth, setAuth] = useState(null);\n  const [open, setOpen] = useState(false);\n  const [containerStyle, setContainerStyle] = useState({ backgroundColor: '#FE0041' });\n\n  const handleLoader = (data) => {\n    const res = data;\n      setloading(true);\n      setStatus(res); \n     console.log(\"res :\", res);\n      if(res !== undefined) {\n        if(auth === null)  setAuth(res.authFile);\n        if(res.status === 0)\n        {\n          setconnected(true);\n          setContainerStyle({ backgroundColor: '#1EBF28' });\n        }\n        else {\n          setContainerStyle({ backgroundColor: '#FE0041' });\n          setconnected(false);\n        }\n      }\n      setloading(false);\n  }\n  const primeChecking = () => {\n    ipcRenderer.invoke('status').then(data => handleLoader(data));\n  }\n  useEffect(() => {\n    primeChecking();\n    \n  }, []);\n\n  const handleForm = (e = null) => {\n    e.preventDefault();\n    setContainerStyle({ backgroundColor: '#FDB328' });\n    ipcRenderer.invoke('auth', form)\n      .then((data) => {\n        setStatus(data)\n        if(data.status === 1) {\n          setOpen(true);\n          setAuth(false);\n        }\n        setTimeout(primeChecking, 6000);\n      });\n    \n  };\n\n  const handleDisconnect = async () => {\n    ipcRenderer.invoke('disconnect');\n    setTimeout(primeChecking);    \n  }\n  const handleClose = () => {\n    setOpen(false);\n  }\n\n  const toggleChecked = (e) => {\n    console.log(e.target.value);\n    setForm(prev =>  ( {...prev, save: !prev.save } ))\n  }\n  const handleUser = (e) => {\n    setForm(prev =>  ( {...prev, user: e.target.value } ))\n  }\n  const handlePass = (e) => {\n    setForm(prev =>  ( {...prev, pass: e.target.value } ))\n  }\n\n  return (\n    <React.StrictMode>\n      <Container style = {containerStyle}>\n      <Grid container\n        className={classes.root}\n        spacing={2}\n        direction=\"column\"\n        alignItems=\"center\"\n        justify=\"center\"\n        style={{ minHeight: '100vh' }}\n  >\n    <Grid item xs={6}>\n      <Modal\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        style = { { display: 'flex', alignItems: 'center', justifyContent: 'center'} }\n        open={open}\n        onClose={handleClose}\n        closeAfterTransition\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={open}>\n          <Paper className={classes.paper}>\n            <h2 id=\"transition-modal-title\">Error</h2>\n            <p id=\"transition-modal-description\">{status.error}</p>\n          </Paper>\n        </Fade>\n      </Modal>\n    </Grid>\n    \n      <Grid item xs={12}>\n          <img src={logo} style={{maxWidth: 250, marginBottom: 200}} alt=\"Episen Logo\" />\n      </Grid>\n\n      <CssBaseline />\n  {\n    (!loading && !connected) ? (\n      <Grid item xs={12} style={ {marginBottom: 250} }>\n        <Paper className={classes.paper}>\n            {\n              (! auth) ? (\n                <form onSubmit={handleForm} autoComplete=\"off\">\n                  <FormGroup>\n                  <FormControl fullWidth className={classes.margin} variant=\"outlined\">\n                    <InputLabel htmlFor=\"outlined-userid\">Identifiant</InputLabel>\n                    <OutlinedInput\n                      id=\"outlined-adornment-userid\"\n                      startAdornment={<InputAdornment position=\"start\"><VpnKeyIcon/></InputAdornment>}\n                      labelWidth={60}\n                      autoComplete=\"off\"\n                      onChange={handleUser}\n                      disabled={auth}\n                    />\n                  </FormControl>\n                  <FormControl fullWidth className={classes.margin} variant=\"outlined\">\n                    <InputLabel htmlFor=\"outlined-adornment-password\">Mot de Passe</InputLabel>\n                    <OutlinedInput\n                      id=\"outlined-password\"\n                      type=\"password\"\n                      autoComplete=\"off\"\n                      startAdornment={<InputAdornment position=\"start\"><LockIcon/></InputAdornment>}\n                      labelWidth={60}\n                      disabled={auth}\n                      onChange={handlePass}\n                    />\n                  </FormControl>\n                  <FormControlLabel\n                    disabled={auth}\n                    control={<Switch checked={form.save} onChange={toggleChecked} />}\n                    label=\"Sauvegarder identifiant\"\n                  />\n                  <br/>\n                  <FormControl>\n                    <Button\n                      type=\"submit\"\n                      style={{ borderRadius: 25 , margin: '0.5rem 0 0.5rem 150px', width: '150px' , backgroundColor: '#FE0041', color: 'white'}}\n                    >\n                      Connecter\n                    </Button>\n                  </FormControl>\n                </FormGroup>\n                </form>\n              ) : (\n                <Grid item xs={12}>\n                  <Fab color=\"primary\" style={{margin: '0.5rem 0 0.5rem 200px' , backgroundColor: '#FE0041', color: 'white'}} aria-label=\"connect\" onClick={handleForm}>\n                    <SettingsEthernetIcon />\n                  </Fab>\n                </Grid>\n                \n              )\n            }\n        </Paper>\n      </Grid>\n  \n    ) : (connected && !loading) ? (\n      <Fab color=\"primary\" style={{margin: '0.5rem 0 0.5rem 5vw' , backgroundColor: '#FE0041', color: 'white'}} aria-label=\"disconnect\" onClick={handleDisconnect}>\n       <PortableWifiOffIcon />\n      </Fab>      \n) : loading ? (\n          <Grid item xs={12}>\n              <h1 style={ { color: 'white' } }>Loading ...\n              <CircularProgress />\n              </h1>\n          </Grid>\n    ) : <div> <span>Null</span> </div>\n  }\n\n</Grid>\n      </Container>\n    </React.StrictMode>\n    \n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}